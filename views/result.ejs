<html>
<head>
    <title>Result - Picture !t</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body style="text-align: center;">
    <input type="hidden" id="param" value="<%= positionedQuery %>"/>
    <h1>Result - Picture !t</h1>
    <canvas class="output" id="canvas"></canvas>
    <button type="button" class="btn btn-outline-secondary go-back">Go Back</button>
</body>
<script src="//code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
<script src="//code.jquery.com/jquery-migrate-3.0.0.min.js" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="//stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="bundle.js"></script>
<script>
    function draw() {
        var ctx = document.getElementById('canvas').getContext('2d');
        var imgA = new Image();
        var imgB = new Image();
        var imgAX = <%= positionedQuery.objectA.x%>;
        var imgAY = <%= positionedQuery.objectA.y%>;
        var imgBX = <%= positionedQuery.objectB.x%>;
        var imgBY = <%= positionedQuery.objectB.y%>;
        imgA.onload = function () {
            ctx.drawImage(imgA, imgAX, imgAY);
            imgB.onload = function () {
                ctx.drawImage(imgB, imgBX, imgBY);
            }
        };
        imgA.src = '<%= positionedQuery.objectA.img.path%>';
        imgB.src = '<%= positionedQuery.objectB.img.path%>';
    }

    window.addEventListener('load', function () {
        draw();
    });
</script>
</html>
